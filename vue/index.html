<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8" />
    <title>Vue test</title>
    <style type="text/css">
        body{
            margin:0;
        }
    </style>
(760) 206-6172
  <script src="https://unpkg.com/vue"></script>

</head>
<body class="container">
    <div id="app2">
      <h1>User Initials</h1>
      <myclock2 :now="now"></myclock2>
      <ul>
        <useritem3 v-for="user in users" :user="user"></useritem3>
      </ul>
    </div>

    <script type="text/javascript">
    //http://ginpen.com/2016/12/06/vue-computed/

var app2 = new Vue({
  el: '#app2',
  components: {
    myclock2: {
      template: '<p>{{readable}}</p>',
      props: [
        'now',
      ],
      computed: { //参照している値を自動的に監視して、最低限の実行で処理
        readable: function() {
          var string =
            ('0' + this.now.getHours()).slice(-2) +
            ':' +
            ('0' + this.now.getMinutes()).slice(-2) +
            ':' +
            ('0' + this.now.getSeconds()).slice(-2);
          return string;
        },
      },
    },
    useritem3: {
      template: '<li>{{initial}}</li>',
      props: [
        'user',
      ],
      computed: {
        initial: function() {
          var initial =
            this.user.firstName.charAt(0).toUpperCase() + '.' +
            this.user.lastName.charAt(0).toUpperCase() + '.';
          return initial;
        },
      },
    },
  },
  data: {
    now: null,
    users: [
      { firstName: 'ginpei', lastName: 'takanashi' },
      { firstName: 'kintoki', lastName: 'sakata' },
      { firstName: 'noriko', lastName: 'takaya' },
    ],
  },
  created: function() {
    this.now = new Date();
    setInterval(()=>{
      this.now = new Date();
    }, 10);
  },
});


app2.users.push({ firstName: 'ginpei2', lastName: 'takanashi2' });

    </script>
</body>
</html>
